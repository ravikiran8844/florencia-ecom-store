<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Product Page</title>
  <link rel="stylesheet" href="assets/css/tailwind.css">
</head>
<body>

<div class="mt-10 px-4 sm:mt-16 sm:px-0 lg:mt-0">
  <h1 class="text-3xl font-bold tracking-tight text-gray-900">Aisha Diamond Bangle</h1>

  <div class="mt-3">
    <h2 class="sr-only">Product information</h2>
    <div class="flex items-center gap-2">
      <div class="text-2xl font-semibold tracking-tight text-gray-900">₹77,315 </div>
      <div class="line-through text-lg text-gray-400">₹89,047 </div>
      <div class="text-red-500 text-sm">(13% off)</div>
    </div>
    <div class="text-xs">(MRP Inclusive of all taxes)</div>
  </div>


  <div class="mt-6">
    <div class="flex border border-yellow-400 rounded-lg w-fit divide-x divide-orange-400 overflow-hidden">
      <div class="p-2">
        <div class="text-xs">Size</div>
        <div class="text-sm font-medium" id="selected-size">2.4 (57.20 mm)</div>
      </div>
      <div class="p-2">
        <div class="text-xs">Metal</div>
        <div class="text-sm font-medium" id="selected-metal">14 KT Rose</div>
      </div>
      <div class="p-2">
        <div class="text-xs">Diamond</div>
        <div class="text-sm font-medium" id="selected-diamond">IJ-SI</div>
      </div>
      <div class="bg-yellow-400 p-2 text-black flex items-center justify-center">
        <button class="uppercase text-sm font-medium" id="customizeButton">Customize</button>
      </div>
    </div>

    <div class="sm:flex-col1 mt-10 flex">
      <button type="submit" class="flex max-w-xs flex-1 items-center justify-center rounded-md bg-indigo-600 py-3 px-8 text-base font-medium text-white hover:bg-indigo-700" id="addToBagButton">
        Add to bag
      </button>
    </div>

    <!-- Customize Drawer -->
    <div id="customizeDrawer" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50">
      <div class="bg-white p-5 rounded shadow-lg w-1/3">
          <h2 class="text-xl font-bold">Customize Your Product</h2>
          <button id="closeDrawer" class="text-red-500 float-right">✖</button>
          <div class="mt-4">
              <!-- Metal Options -->
              <h3 class="text-sm font-medium">Choice of Metal</h3>
              <div class="mt-2" id="metal-options">
                  <div class="select-radio-option">
                      <input id="metal-option1" type="radio" name="metal" value="14 KT Rose Gold" class="hidden" checked />
                      <label for="metal-option1" class="option-label inline-block py-1 px-2 border rounded cursor-pointer">14 KT Rose Gold</label>
                  </div>
                  <div class="block mt-2">
                      <input id="metal-option2" type="radio" name="metal" value="18 KT Rose Gold" class="hidden" />
                      <label for="metal-option2" class="option-label inline-block py-1 px-2 border rounded cursor-pointer">18 KT Rose Gold</label>
                  </div>
              </div>

              <!-- Diamond Quality Options -->
              <h3 class="text-sm font-medium mt-4">Diamond Quality</h3>
              <div class="mt-2" id="diamond-options">
                  <div class="select-radio-option">
                      <input id="diamond-option1" type="radio" name="diamond" value="IJ-SI" class="hidden" checked />
                      <label for="diamond-option1" class="option-label inline-block py-1 px-2 border rounded cursor-pointer">IJ-SI</label>
                  </div>
              </div>

              <!-- Size Options -->
              <h3 class="text-sm font-medium mt-4">Size</h3>
              <div class="mt-2" id="size-options">
                  <div class="select-radio-option">
                      <input id="size-option1" type="radio" name="size" value="2.4 (57.20 mm)" class="hidden" checked />
                      <label for="size-option1" class="option-label inline-block py-1 px-2 border rounded cursor-pointer">2.4 (57.20 mm)</label>
                  </div>
                  <div class="block mt-2">
                      <input id="size-option2" type="radio" name="size" value="2.1 (52.40 mm)" class="hidden" />
                      <label for="size-option2" class="option-label inline-block py-1 px-2 border rounded cursor-pointer">2.1 (52.40 mm)</label>
                  </div>
              </div>

              <!-- Confirm Button -->
              <button id="confirmButton" class="w-full mt-6 bg-indigo-600 text-white py-2 rounded">Confirm Customization</button>
          </div>
      </div>
  </div>


  </div>
</div>

<script>
  // Open Customize Drawer
  document.getElementById("customizeButton").addEventListener("click", function () {
      document.getElementById("customizeDrawer").classList.remove("hidden");
      highlightSelectedOptions(); // Highlight initially selected options
  });

  // Close Customize Drawer and reset highlighting
  document.getElementById("closeDrawer").addEventListener("click", function () {
      document.getElementById("customizeDrawer").classList.add("hidden");
      resetOptionHighlighting(); // Reset highlighting when closing
  });

  // Reset option highlighting to defaults
  function resetOptionHighlighting() {
      document.querySelectorAll('.option-label').forEach(option => {
          option.classList.remove('bg-indigo-600', 'text-white');
          option.classList.add('bg-white', 'text-black');
      });
  }

  // Highlight selected options logic
  function highlightSelectedOptions() {
      resetOptionHighlighting(); // Clear previous highlights
      document.querySelectorAll('input[type="radio"]:checked').forEach(checkedInput => {
          checkedInput.nextElementSibling.classList.remove('bg-white', 'text-black');
          checkedInput.nextElementSibling.classList.add('bg-indigo-600', 'text-white');
      });
  }

  // Event listener for radio inputs to change background immediately
  document.querySelectorAll('input[type="radio"]').forEach(input => {
      input.addEventListener('change', highlightSelectedOptions);
  });

  // Update the selected options display when confirm is clicked
  document.getElementById("confirmButton").addEventListener("click", function () {
      // Get selected metal, diamond, and size values
      const selectedMetal = document.querySelector('input[name="metal"]:checked').value;
      const selectedDiamond = document.querySelector('input[name="diamond"]:checked').value;
      const selectedSize = document.querySelector('input[name="size"]:checked').value;

      // Update the display text in the flexbox
      document.getElementById("selected-metal").textContent = selectedMetal;
      document.getElementById("selected-diamond").textContent = selectedDiamond;
      document.getElementById("selected-size").textContent = selectedSize;

      // Hide the drawer
      document.getElementById("customizeDrawer").classList.add("hidden");
  });
</script>
